"use strict";(self["webpackChunkvue_shopping"]=self["webpackChunkvue_shopping"]||[]).push([[223],{4223:function(s,t,o){o.r(t),o.d(t,{default:function(){return u}});o(560);var r=function(){var s=this,t=s._self._c;return t("div",[t("van-nav-bar",{attrs:{title:"商品列表"}}),t("van-search",{attrs:{"show-action":"",placeholder:s.searchValue||"請輸入搜尋的商品"},on:{click:function(t){return t.stopPropagation(),s.$router.push("/search")}},scopedSlots:s._u([{key:"action",fn:function(){return[t("div",{on:{click:function(t){return s.$router.push("/apps")}}},[t("van-icon",{attrs:{name:"apps-o",size:"1.5em"}})],1)]},proxy:!0}])}),t("div",{staticClass:"sortTypeBox"},["allDown"===s.sortType?t("button",{staticClass:"sortType",on:{click:s.proListAllUp}},[s._v("綜合Down")]):"allUp"===s.sortType?t("button",{staticClass:"sortType",on:{click:s.proListAllDown}},[s._v("綜合Up")]):t("button",{staticClass:"sortType",on:{click:s.proListAllDown}},[s._v("綜合")]),"salesDown"===s.sortType?t("button",{staticClass:"sortType",on:{click:s.proListSalesUp}},[s._v("銷售Down")]):"salesUp"===s.sortType?t("button",{staticClass:"sortType",on:{click:s.proListSalesDown}},[s._v("銷售Up")]):t("button",{staticClass:"sortType",on:{click:s.proListSalesDown}},[s._v("銷售")]),"priceDown"===s.sortType?t("button",{staticClass:"sortType",on:{click:s.proListPriceUp}},[s._v("價格Down")]):"priceUp"===s.sortType?t("button",{staticClass:"sortType",on:{click:s.proListPriceDown}},[s._v("價格Up")]):t("button",{staticClass:"sortType",on:{click:s.proListPriceDown}},[s._v("價格")])]),0===s.proList.length?t("div",[s._v("搜尋中...")]):"error"===s.proList[0]?t("div",[s._v("查無商品")]):s.proList.length>0?t("div",s._l(s.proList,(function(s){return t("GoodsItem",{key:s.goods_id,attrs:{item:s}})})),1):s._e()],1)},i=[],e=o(9431),n=o(1787),p={name:"searchList",components:{GoodsItem:e.Z},data(){return{searchValue:this.$route.query.search,page:1,proList:[],sortType:"allDown"}},async created(){const{data:{list:s}}=await(0,n.Fs)({categoryId:this.$route.query.categoryId,goodsName:this.searchValue,page:this.page});0!==s.total?(this.proList=s.data,this.proListAllDown()):this.proList=["error"]},methods:{proListAllDown(){this.proList=this.proList.sort((function(s,t){const o=s.goods_sales*s.goods_price_min,r=t.goods_sales*t.goods_price_min;return r-o})),this.sortType="allDown"},proListAllUp(){this.proList=this.proList.sort((function(s,t){const o=s.goods_sales*s.goods_price_min,r=t.goods_sales*t.goods_price_min;return o-r})),this.sortType="allUp"},proListSalesDown(){this.proList=this.proList.sort((function(s,t){const o=s.goods_sales,r=t.goods_sales;return r-o})),this.sortType="salesDown"},proListSalesUp(){this.proList=this.proList.sort((function(s,t){const o=s.goods_sales,r=t.goods_sales;return o-r})),this.sortType="salesUp"},proListPriceDown(){this.proList=this.proList.sort((function(s,t){const o=s.goods_price_min,r=t.goods_price_min;return r-o})),this.sortType="priceDown"},proListPriceUp(){this.proList=this.proList.sort((function(s,t){const o=s.goods_price_min,r=t.goods_price_min;return o-r})),this.sortType="priceUp"}}},a=p,c=o(1001),l=(0,c.Z)(a,r,i,!1,null,"4a0ad91f",null),u=l.exports},1787:function(s,t,o){o.d(t,{Aw:function(){return e},Fs:function(){return i},U3:function(){return n}});var r=o(4471);const i=s=>{const{categoryId:t,goodsName:o,page:i}=s;return r.Z.get("/goods/list",{params:{categoryId:t,goodsName:o,page:i}})},e=s=>r.Z.get("/goods/detail",{params:{goodsId:s}}),n=(s,t)=>r.Z.get("/comment/listRows",{params:{goodsId:s,limit:t}})}}]);
//# sourceMappingURL=223.65bcdbbe.js.map